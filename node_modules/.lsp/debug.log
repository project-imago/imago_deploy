Hello - from /Users/lucas/.vscode/extensions/jaredly.reason-vscode-1.7.1/bin.native
Previous log location: /var/folders/52/mlrybf253q5gm_jm0yfxcld80000gn/T/lsp.log
Sending notification {"jsonrpc": "2.0", "method": "client/registerCapability", "params": {"registrations": [{"id": "watching", "method": "workspace/didChangeWatchedFiles", "registerOptions": {"watchers": [{"globPattern": "**/bsconfig.json"}, {"globPattern": "**/.merlin"}]}}]}}
Sending response {"id": 0, "jsonrpc": "2.0", "result": {"capabilities": {"textDocumentSync": 1, "hoverProvider": true, "completionProvider": {"resolveProvider": true, "triggerCharacters": ["."]}, "signatureHelpProvider": {"triggerCharacters": ["("]}, "definitionProvider": true, "typeDefinitionProvider": true, "referencesProvider": true, "documentSymbolProvider": true, "codeActionProvider": true, "executeCommandProvider": {"commands": ["reason-language-server.add_to_interface_inner"]}, "codeLensProvider": {"resolveProvider": true}, "documentHighlightProvider": true, "documentRangeFormattingProvider": true, "documentFormattingProvider": true, "documentFormattingProvider": true, "renameProvider": true}}}
Read message 
{"jsonrpc":"2.0","method":"initialized","params":{}}
Read message 
{"jsonrpc":"2.0","method":"workspace/didChangeConfiguration","params":{"settings":{"reason_language_server":{"location":"","build_system_override_by_root":{},"refmt":"","lispRefmt":"","format_width":80,"per_value_codelens":false,"dependencies_codelens":true,"opens_codelens":true,"show_module_path_on_hover":true,"reloadOnChange":false,"show_debug_errors":false,"autoRebuild":true,"useOldDuneProcess":true}}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml","languageId":"ocaml","version":1,"text":"[%%debugger.chrome]\nopen Tea.App\nopen Tea.Html\nopen Router\n\ntype msg =\n  | ChatMsg of Chat.msg\n  | Location_changed of Web.Location.location\n  | GoTo of route\n  [@@bs.deriving {accessors}]\n\ntype model =\n  {\n    chat : Chat.model;\n    route : Router.route;\n  }\n\nlet update_route model = function\n  | route when model.route = route -> (model, Tea.Cmd.none)\n  | ChatRoute chat_route ->\n      let chat, route = Chat.update_route model.chat chat_route in\n      {model with chat; route}, location_of_route route |> Tea.Navigation.newUrl\n  | Index as route ->\n      let chat = Chat.reset_route model.chat in\n      {model with chat; route}, location_of_route route |> Tea.Navigation.newUrl\n\nlet init () location =\n  let chat_model, chat_cmd = Chat.init in\n  let model =\n    {\n      chat = chat_model;\n      route = Index;\n    } in\n  let model, location_cmd =\n    route_of_location location |> update_route model\n  in\n  (model, Tea.Cmd.batch [Tea.Cmd.map chatMsg chat_cmd; location_cmd])\n\nlet update model = function\n  | Location_changed location ->\n      route_of_location location |> update_route model\n  | GoTo route -> update_route model route\n  | ChatMsg (GoTo route) -> update_route model route\n  | ChatMsg chat_msg ->\n      let chat, chat_cmd = Chat.update model.chat chat_msg in\n      {model with chat}, Tea.Cmd.map chatMsg chat_cmd\n\nlet content model =\n  match model.route with\n  | Index -> div [] []\n  | ChatRoute chat_route -> Chat.view model.chat chat_route |> Vdom.map chatMsg\n\nlet view model =\n  div\n    []\n    [ span\n        [ style \"text-weight\" \"bold\" ]\n        [ text (if model.chat.client##clientRunning then\n          model.chat.client##credentials##userId else \"disconnected\") ];\n      div [ id \"sidebar\" ] [ Chat.room_list_view model.chat |> Vdom.map chatMsg];\n      div [ id \"main\" ] [ content model ];\n      button [ onClick (GoTo Index)] [text \"Index\"]\n    ]\n\nlet subscriptions model =\n  Chat.subscriptions model.chat |> Tea.Sub.map chatMsg\n\nlet main =\n  Tea.Navigation.navigationProgram location_changed {\n    init;\n    update;\n    view;\n    subscriptions = subscriptions;\n    shutdown = (fun _ -> Tea.Cmd.none);\n  }\n"}}}
üì£ üì£ NEW BSB PACKAGE üì£ üì£
- location: /Users/lucas/git/imago_front
- bsPlatform: /Users/lucas/git/imago_front/node_modules/bs-platform
- buildSystem: bsb version 6.0.3
- build command: /Users/lucas/git/imago_front/node_modules/bs-platform/lib/bsb.exe -make-world
>> Build system running: /Users/lucas/git/imago_front/node_modules/bs-platform/lib/bsb.exe -make-world
>>> stdout
ninja: no work to do.
ninja: no work to do.
ninja: no work to do.
>>> stderr

Affected files: 
Cleaning bsconfig.json
Sending notification {"jsonrpc": "2.0", "method": "textDocument/publishDiagnostics", "params": {"uri": "file:///Users/lucas/git/imago_front/bsconfig.json", "diagnostics": []}}
Deps tablecloth-bucklescript, bucklescript-tea
Dep loc /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/bsconfig.json
Compiled base: /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/lib/bs
Source directories: /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/src
Source files found: /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/src/tablecloth.mli : /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/src/tablecloth.ml
Adding intf /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/src/tablecloth.mli
Bad source file (extension) /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/src/tablecloth.mli
Dep loc /Users/lucas/git/imago_front/node_modules/bucklescript-tea/bsconfig.json
Compiled base: /Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs
Source directories: /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml
Source files found: /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_html2.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_task.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_window_localstorage.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_debug.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/vdom.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_mouse.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_cmd.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_random.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_html_cmds.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_time.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_window_history.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_program.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_animationframe.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_node.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_navigation.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_html.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_location.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_xmlhttprequest.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_json.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_formdata.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_date.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_document.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_svg_attributes.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_app.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_promise.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_sub.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_svg.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_http.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_svg_events.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_window.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_ex.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/web_event.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_result.ml : /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_json.ml
Got source directories ./src
Source directories: /Users/lucas/git/imago_front/src
Source files found: /Users/lucas/git/imago_front/src/app.ml : /Users/lucas/git/imago_front/src/chat.ml : /Users/lucas/git/imago_front/src/main.ml : /Users/lucas/git/imago_front/src/router.ml : /Users/lucas/git/imago_front/src/matrix.ml
-- All local modules found: 5
App
impl /Users/lucas/git/imago_front/lib/bs/src/app.cmt
Chat
impl /Users/lucas/git/imago_front/lib/bs/src/chat.cmt
Main
impl /Users/lucas/git/imago_front/lib/bs/src/main.cmt
Router
impl /Users/lucas/git/imago_front/lib/bs/src/router.cmt
Matrix
impl /Users/lucas/git/imago_front/lib/bs/src/matrix.cmt
Dependency dirs /Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml /Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/lib/bs/src /Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml
Read message 
{"jsonrpc":"2.0","id":1,"method":"textDocument/documentSymbol","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
[server] Got a method textDocument/documentSymbol
[server] processing took 0.00596046447754ms
‚û°Ô∏è running bsc /Users/lucas/git/imago_front/node_modules/bs-platform/lib/bsc.exe -c -I '/Users/lucas/git/imago_front/lib/bs/src' -I '/Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml' -I '/Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/lib/bs/src' -I '/Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml' -I '/Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml' -bin-annot -bs-no-builtin-ppx-ml -bs-package-name tea -bs-package-output es6:node_modules/.lsp -ppx '/Users/lucas/git/imago_front/node_modules/bs-platform/lib/bsppx.exe' -nostdlib -color always -w -30-40+6+7+27+32..39+44+45+101 -impl /Users/lucas/git/imago_front/node_modules/.lsp/App.ast with pwd /Users/lucas/git/imago_front
<< Replacing lastDefinitions for file:///Users/lucas/git/imago_front/src/app.ml
Sending response {"id": 1, "jsonrpc": "2.0", "result": [{"name": "msg", "kind": 10, "location": {"range": {"start": {"line": 5, "character": 0}, "end": {"line": 9, "character": 29}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "model", "kind": 11, "location": {"range": {"start": {"line": 11, "character": 0}, "end": {"line": 15, "character": 3}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "update_route", "kind": 12, "location": {"range": {"start": {"line": 17, "character": 0}, "end": {"line": 24, "character": 80}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "init", "kind": 12, "location": {"range": {"start": {"line": 26, "character": 0}, "end": {"line": 36, "character": 69}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "update", "kind": 12, "location": {"range": {"start": {"line": 38, "character": 0}, "end": {"line": 45, "character": 53}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "content", "kind": 12, "location": {"range": {"start": {"line": 47, "character": 0}, "end": {"line": 50, "character": 79}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "view", "kind": 12, "location": {"range": {"start": {"line": 52, "character": 0}, "end": {"line": 62, "character": 5}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "subscriptions", "kind": 12, "location": {"range": {"start": {"line": 64, "character": 0}, "end": {"line": 65, "character": 54}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "main", "kind": 12, "location": {"range": {"start": {"line": 67, "character": 0}, "end": {"line": 74, "character": 3}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}]}
Running diagnostics for file:///Users/lucas/git/imago_front/src/app.ml
Sending notification {"jsonrpc": "2.0", "method": "textDocument/publishDiagnostics", "params": {"uri": "file:///Users/lucas/git/imago_front/src/app.ml", "diagnostics": [{"range": {"start": {"line": 21, "character": 6}, "end": {"line": 21, "character": 30}}, "message": "Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.", "severity": 2}, {"range": {"start": {"line": 24, "character": 6}, "end": {"line": 24, "character": 30}}, "message": "Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.", "severity": 2}, {"range": {"start": {"line": 1, "character": 0}, "end": {"line": 1, "character": 12}}, "message": "Warning 33: unused open Tea.App.", "severity": 2}]}}
Read message 
{"jsonrpc":"2.0","id":2,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":9,"character":16},"end":{"line":9,"character":16}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0131130218506ms
Sending response {"id": 2, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":3,"method":"textDocument/codeLens","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
[server] Got a method textDocument/codeLens
[server] processing took 0.00715255737305ms
Sending response {"id": 3, "jsonrpc": "2.0", "result": [{"range": {"start": {"line": 0, "character": 0}, "end": {"line": 0, "character": 0}}, "command": {"title": "Dependencies: Web, Chat, Js, Tea, Router, Vdom, Pervasives", "command": ""}}, {"range": {"start": {"line": 1, "character": 5}, "end": {"line": 1, "character": 12}}, "command": {"title": "Unused open", "command": ""}}, {"range": {"start": {"line": 3, "character": 5}, "end": {"line": 3, "character": 11}}, "command": {"title": "5 uses. values: {location_of_route, route_of_location} types: {route [Index, ChatRoute]}", "command": ""}}, {"range": {"start": {"line": 2, "character": 5}, "end": {"line": 2, "character": 13}}, "command": {"title": "7 uses. values: {button, div, id, onClick, span, style, text}", "command": ""}}]}
Read message 
{"jsonrpc":"2.0","id":4,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":11,"character":2},"end":{"line":11,"character":3}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.00786781311035ms
Sending response {"id": 4, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","method":"$/cancelRequest","params":{"id":2}}
Read message 
{"jsonrpc":"2.0","id":5,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":58,"character":10}}}
[server] Got a method textDocument/hover
[server] processing took 0.0171661376953ms
Sending response {"id": 5, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 58, "character": 10}, "end": {"line": 58, "character": 15}}, "contents": {"kind": "markdown", "value": "```\nmodel\n```\n\n```\ntype model = {chat: Chat.model, route: Router.route}\n```\n\nfile:///Users/lucas/git/imago_front/src/app.ml"}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didClose","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml","languageId":"ocaml","version":1,"text":"[%%debugger.chrome]\nopen Tea.App\nopen Tea.Html\nopen Router\n\ntype msg =\n  | ChatMsg of Chat.msg\n  | Location_changed of Web.Location.location\n  | GoTo of route\n  [@@bs.deriving {accessors}]\n\ntype model =\n  {\n    chat : Chat.model;\n    route : Router.route;\n  }\n\nlet update_route model = function\n  | route when model.route = route -> (model, Tea.Cmd.none)\n  | ChatRoute chat_route ->\n      let chat, route = Chat.update_route model.chat chat_route in\n      {model with chat; route}, location_of_route route |> Tea.Navigation.newUrl\n  | Index as route ->\n      let chat = Chat.reset_route model.chat in\n      {model with chat; route}, location_of_route route |> Tea.Navigation.newUrl\n\nlet init () location =\n  let chat_model, chat_cmd = Chat.init in\n  let model =\n    {\n      chat = chat_model;\n      route = Index;\n    } in\n  let model, location_cmd =\n    route_of_location location |> update_route model\n  in\n  (model, Tea.Cmd.batch [Tea.Cmd.map chatMsg chat_cmd; location_cmd])\n\nlet update model = function\n  | Location_changed location ->\n      route_of_location location |> update_route model\n  | GoTo route -> update_route model route\n  | ChatMsg (GoTo route) -> update_route model route\n  | ChatMsg chat_msg ->\n      let chat, chat_cmd = Chat.update model.chat chat_msg in\n      {model with chat}, Tea.Cmd.map chatMsg chat_cmd\n\nlet content model =\n  match model.route with\n  | Index -> div [] []\n  | ChatRoute chat_route -> Chat.view model.chat chat_route |> Vdom.map chatMsg\n\nlet view model =\n  div\n    []\n    [ span\n        [ style \"text-weight\" \"bold\" ]\n        [ text (if model.chat.client##clientRunning then\n          model.chat.client##credentials##userId else \"disconnected\") ];\n      div [ id \"sidebar\" ] [ Chat.room_list_view model.chat |> Vdom.map chatMsg];\n      div [ id \"main\" ] [ content model ];\n      button [ onClick (GoTo Index)] [text \"Index\"]\n    ]\n\nlet subscriptions model =\n  Chat.subscriptions model.chat |> Tea.Sub.map chatMsg\n\nlet main =\n  Tea.Navigation.navigationProgram location_changed {\n    init;\n    update;\n    view;\n    subscriptions = subscriptions;\n    shutdown = (fun _ -> Tea.Cmd.none);\n  }\n"}}}
Read message 
{"jsonrpc":"2.0","id":6,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":0,"character":0},"end":{"line":0,"character":0}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0112056732178ms
Sending response {"id": 6, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":7,"method":"textDocument/documentSymbol","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
[server] Got a method textDocument/documentSymbol
[server] processing took 0.0100135803223ms
Sending response {"id": 7, "jsonrpc": "2.0", "result": [{"name": "msg", "kind": 10, "location": {"range": {"start": {"line": 5, "character": 0}, "end": {"line": 9, "character": 29}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "model", "kind": 11, "location": {"range": {"start": {"line": 11, "character": 0}, "end": {"line": 15, "character": 3}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "update_route", "kind": 12, "location": {"range": {"start": {"line": 17, "character": 0}, "end": {"line": 24, "character": 80}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "init", "kind": 12, "location": {"range": {"start": {"line": 26, "character": 0}, "end": {"line": 36, "character": 69}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "update", "kind": 12, "location": {"range": {"start": {"line": 38, "character": 0}, "end": {"line": 45, "character": 53}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "content", "kind": 12, "location": {"range": {"start": {"line": 47, "character": 0}, "end": {"line": 50, "character": 79}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "view", "kind": 12, "location": {"range": {"start": {"line": 52, "character": 0}, "end": {"line": 62, "character": 5}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "subscriptions", "kind": 12, "location": {"range": {"start": {"line": 64, "character": 0}, "end": {"line": 65, "character": 54}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "main", "kind": 12, "location": {"range": {"start": {"line": 67, "character": 0}, "end": {"line": 74, "character": 3}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}]}
Read message 
{"jsonrpc":"2.0","id":8,"method":"textDocument/codeLens","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
[server] Got a method textDocument/codeLens
[server] processing took 0.0109672546387ms
Sending response {"id": 8, "jsonrpc": "2.0", "result": [{"range": {"start": {"line": 0, "character": 0}, "end": {"line": 0, "character": 0}}, "command": {"title": "Dependencies: Web, Chat, Js, Tea, Router, Vdom, Pervasives", "command": ""}}, {"range": {"start": {"line": 1, "character": 5}, "end": {"line": 1, "character": 12}}, "command": {"title": "Unused open", "command": ""}}, {"range": {"start": {"line": 3, "character": 5}, "end": {"line": 3, "character": 11}}, "command": {"title": "5 uses. values: {location_of_route, route_of_location} types: {route [Index, ChatRoute]}", "command": ""}}, {"range": {"start": {"line": 2, "character": 5}, "end": {"line": 2, "character": 13}}, "command": {"title": "7 uses. values: {button, div, id, onClick, span, style, text}", "command": ""}}]}
Running diagnostics for file:///Users/lucas/git/imago_front/src/app.ml
Sending notification {"jsonrpc": "2.0", "method": "textDocument/publishDiagnostics", "params": {"uri": "file:///Users/lucas/git/imago_front/src/app.ml", "diagnostics": [{"range": {"start": {"line": 21, "character": 6}, "end": {"line": 21, "character": 30}}, "message": "Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.", "severity": 2}, {"range": {"start": {"line": 24, "character": 6}, "end": {"line": 24, "character": 30}}, "message": "Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.", "severity": 2}, {"range": {"start": {"line": 1, "character": 0}, "end": {"line": 1, "character": 12}}, "message": "Warning 33: unused open Tea.App.", "severity": 2}]}}
Read message 
{"jsonrpc":"2.0","id":9,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":11,"character":2},"end":{"line":11,"character":3}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0410079956055ms
Sending response {"id": 9, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":10,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":11,"character":2},"end":{"line":11,"character":3}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0238418579102ms
Sending response {"id": 10, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","method":"$/cancelRequest","params":{"id":9}}
Read message 
{"jsonrpc":"2.0","id":11,"method":"textDocument/documentHighlight","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":8,"character":17}}}
[server] Got a method textDocument/documentHighlight
[server] processing took 0.00810623168945ms
Sending response {"id": 11, "jsonrpc": "2.0", "result": [{"range": {"start": {"line": 14, "character": 19}, "end": {"line": 14, "character": 24}}, "kind": 2}, {"range": {"start": {"line": 8, "character": 12}, "end": {"line": 8, "character": 17}}, "kind": 2}, {"range": {"start": {"line": 8, "character": 12}, "end": {"line": 8, "character": 17}}, "kind": 2}]}
Read message 
{"jsonrpc":"2.0","id":12,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":8,"character":17},"end":{"line":8,"character":17}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0228881835938ms
Sending response {"id": 12, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":13,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":11,"character":2},"end":{"line":11,"character":3}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0150203704834ms
Sending response {"id": 13, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didClose","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/matrix.ml","languageId":"ocaml","version":1,"text":"type user_id =      string\ntype room_id =      string\ntype access_token = string\ntype home_server =  string\ntype device_id =    string\ntype login_map =    string Js.Dict.t\ntype re_emitter\ntype room_state\ntype group\ntype data\ntype filter\ntype account_data\ntype event_emitter\ntype storage\ntype user\ntype tag\ntype event_id = string\ntype event_type = string\n(* ([ | `room_message [@bs.as \"m.room.message\"] ] [@bs.string]) *)\ntype matrix_event2\n\ntype room_member =\n  < events: matrix_event2 Js.Dict.t;\n    membership: string;\n    name: string;\n    powerLevel: int;\n    powerLevelNorm: int;\n    rawDisplayName: string;\n    roomId: room_id;\n    typing: bool;\n    user: string Js.Null.t;\n    userId: user_id;\n  > Js.t\n\ntype event_content =\n  < body: string;\n    msgtype: string;\n  > Js.t\n\ntype event =\n  < content: event_content;\n    event_id: event_id;\n    origin_server_ts: int;\n    room_id: room_id;\n    sender: user_id;\n  > Js.t\n\ntype matrix_event =\n  < error: string Js.Nullable.t;\n    event: event;\n    forwardLooking: bool;\n    sender: room_member;\n    status: string Js.Nullable.t;\n    target: string Js.Nullable.t;\n  > Js.t\n\ntype timeline =      matrix_event array\n\ntype event_timeline =\n  < getEvents:  unit -> timeline [@bs.meth];\n  > Js.t\n\ntype room_summary =\n  < info : < title : string > Js.t;\n    roomId : room_id;\n  > Js.t\n\ntype room =\n  < accountData: account_data;\n    currentState: room_state;\n    myUserId:     user_id;\n    name:         string;\n    oldState:     room_state;\n    reEmitter:    re_emitter;\n    roomId:       room_id;\n    storageToken: string Js.Undefined.t;\n    summary:      room_summary;\n    tags:         tag Js.Dict.t;\n    timeline:     timeline;\n    getLiveTimeline:     unit -> event_timeline [@bs.meth];\n  > Js.t\n\ntype store =\n  < accountData:  account_data;\n    filters:      filter Js.Dict.t;\n    groups:       group Js.Dict.t;\n    localStorage: storage;\n    rooms:        room Js.Dict.t;\n    users:        user Js.Dict.t;\n  > Js.t\n\ntype login_response =\n  < user_id:      user_id;\n    access_token: access_token;\n    home_server:  home_server;\n    device_id:    device_id;\n  > Js.t\n\ntype client =\n  < credentials:    < userId : user_id > Js.t;\n    clientRunning:  bool;\n    getAccessToken: unit -> access_token [@bs.meth];\n    login:          string -> string Js.Dict.t -> login_response Js.Promise.t [@bs.meth];\n    (*on:             string -> ([ | `test of event -> room -> bool -> bool -> data -> unit\n                               ] [@bs.string]) -> event_emitter [@bs.meth];*)\n    getJoinedRooms: unit -> (<joined_rooms: room_id array> Js.t) Js.Promise.t [@bs.meth];\n    sendMessage:    room_id -> event_content -> string Js.Promise.t [@bs.meth];\n    store:          store;\n  > Js.t\nexternal start_client: client -> unit = \"startClient\" [@@bs.send]\nexternal on: client -> ([ | `timeline of event -> room -> bool -> bool -> data -> unit [@bs.as \"Room.timeline\"]\n                        ] [@bs.string]) -> event_emitter  = \"on\" [@@bs.send]\nexternal off: client -> ([ | `timeline of event -> room -> bool -> bool -> data -> unit [@bs.as \"Room.timeline\"]\n                        ] [@bs.string]) -> event_emitter  = \"off\" [@@bs.send]\nexternal once: client -> ([ | `sync of string -> string -> string -> unit ] [@bs.string]) -> event_emitter  = \"once\" [@@bs.send]\n\nexternal create_client:        string -> client =           \"createClient\" [@@bs.module \"matrix-js-sdk\"]\nexternal create_client_params: string Js.Dict.t -> client = \"createClient\" [@@bs.module \"matrix-js-sdk\"]\n\n\nlet get_joined_rooms client =\n  client##getJoinedRooms ()\n  |> Js.Promise.then_ (fun res ->\n      res##joined_rooms\n      |> Tablecloth.Array.to_list\n      |> Js.Promise.resolve\n  )\n\nlet subscribe client tagger =\n  let open Vdom in\n  let enableCall callbacks =\n    let args = (`timeline (fun event _room _toStartOfTimeline _removed _data ->\n          callbacks.enqueue (tagger event))) in\n    let _ = on client args in\n    fun () ->\n      let _ = off client args in\n      ()\n  in Tea_sub.registration \"test\" enableCall\n\nlet subscribe_once client tagger =\n  let open Vdom in\n  let enableCall callbacks =\n    let args = (`sync (fun state _prevState _data ->\n          callbacks.enqueue (tagger state))) in\n    let _ = once client args in\n    fun () ->\n      ()\n  in Tea_sub.registration \"sync\" enableCall\n\nlet new_client () =\n  create_client \"https://imago-dev.img:8448\"\n\nlet new_client_params matrix_id access_token =\n  let login_map = Js.Dict.empty () in\n  let () = Js.Dict.set login_map \"baseUrl\"  \"https://imago-dev.img:8448\" in\n  let () = Js.Dict.set login_map \"accessToken\" access_token in\n  let () = Js.Dict.set login_map \"userId\" matrix_id in\n  create_client_params login_map\n\nlet login client =\n  let login_map = Js.Dict.empty () in\n  let () = Js.Dict.set login_map \"user\" \"alice\" in\n  let () = Js.Dict.set login_map \"password\" \"imago42imago\" in\n  client##login \"m.login.password\" login_map\n"}}}
Read message 
{"jsonrpc":"2.0","id":14,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/matrix.ml"},"range":{"start":{"line":0,"character":0},"end":{"line":0,"character":0}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0338554382324ms
‚û°Ô∏è running bsc /Users/lucas/git/imago_front/node_modules/bs-platform/lib/bsc.exe -c -I '/Users/lucas/git/imago_front/lib/bs/src' -I '/Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml' -I '/Users/lucas/git/imago_front/node_modules/tablecloth-bucklescript/lib/bs/src' -I '/Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml' -I '/Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml' -bin-annot -bs-no-builtin-ppx-ml -bs-package-name tea -bs-package-output es6:node_modules/.lsp -ppx '/Users/lucas/git/imago_front/node_modules/bs-platform/lib/bsppx.exe' -nostdlib -color always -w -30-40+6+7+27+32..39+44+45+101 -impl /Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast with pwd /Users/lucas/git/imago_front
<< Replacing lastDefinitions for file:///Users/lucas/git/imago_front/src/matrix.ml
Sending response {"id": 14, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":15,"method":"textDocument/documentSymbol","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/matrix.ml"}}}
[server] Got a method textDocument/documentSymbol
[server] processing took 0.00905990600586ms
Sending response {"id": 15, "jsonrpc": "2.0", "result": [{"name": "user_id", "kind": 26, "location": {"range": {"start": {"line": 0, "character": 0}, "end": {"line": 0, "character": 26}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "room_id", "kind": 26, "location": {"range": {"start": {"line": 1, "character": 0}, "end": {"line": 1, "character": 26}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "access_token", "kind": 26, "location": {"range": {"start": {"line": 2, "character": 0}, "end": {"line": 2, "character": 26}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "home_server", "kind": 26, "location": {"range": {"start": {"line": 3, "character": 0}, "end": {"line": 3, "character": 26}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "device_id", "kind": 26, "location": {"range": {"start": {"line": 4, "character": 0}, "end": {"line": 4, "character": 26}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "login_map", "kind": 26, "location": {"range": {"start": {"line": 5, "character": 0}, "end": {"line": 5, "character": 36}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "re_emitter", "kind": 26, "location": {"range": {"start": {"line": 6, "character": 0}, "end": {"line": 6, "character": 15}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "room_state", "kind": 26, "location": {"range": {"start": {"line": 7, "character": 0}, "end": {"line": 7, "character": 15}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "group", "kind": 26, "location": {"range": {"start": {"line": 8, "character": 0}, "end": {"line": 8, "character": 10}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "data", "kind": 26, "location": {"range": {"start": {"line": 9, "character": 0}, "end": {"line": 9, "character": 9}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "filter", "kind": 26, "location": {"range": {"start": {"line": 10, "character": 0}, "end": {"line": 10, "character": 11}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "account_data", "kind": 26, "location": {"range": {"start": {"line": 11, "character": 0}, "end": {"line": 11, "character": 17}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "event_emitter", "kind": 26, "location": {"range": {"start": {"line": 12, "character": 0}, "end": {"line": 12, "character": 18}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "storage", "kind": 26, "location": {"range": {"start": {"line": 13, "character": 0}, "end": {"line": 13, "character": 12}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "user", "kind": 26, "location": {"range": {"start": {"line": 14, "character": 0}, "end": {"line": 14, "character": 9}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "tag", "kind": 26, "location": {"range": {"start": {"line": 15, "character": 0}, "end": {"line": 15, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "event_id", "kind": 26, "location": {"range": {"start": {"line": 16, "character": 0}, "end": {"line": 16, "character": 22}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "event_type", "kind": 26, "location": {"range": {"start": {"line": 17, "character": 0}, "end": {"line": 17, "character": 24}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "matrix_event2", "kind": 26, "location": {"range": {"start": {"line": 19, "character": 0}, "end": {"line": 19, "character": 18}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "room_member", "kind": 26, "location": {"range": {"start": {"line": 21, "character": 0}, "end": {"line": 32, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "event_content", "kind": 26, "location": {"range": {"start": {"line": 34, "character": 0}, "end": {"line": 37, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "event", "kind": 26, "location": {"range": {"start": {"line": 39, "character": 0}, "end": {"line": 45, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "matrix_event", "kind": 26, "location": {"range": {"start": {"line": 47, "character": 0}, "end": {"line": 54, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "timeline", "kind": 26, "location": {"range": {"start": {"line": 56, "character": 0}, "end": {"line": 56, "character": 39}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "event_timeline", "kind": 26, "location": {"range": {"start": {"line": 58, "character": 0}, "end": {"line": 60, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "room_summary", "kind": 26, "location": {"range": {"start": {"line": 62, "character": 0}, "end": {"line": 65, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "room", "kind": 26, "location": {"range": {"start": {"line": 67, "character": 0}, "end": {"line": 80, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "store", "kind": 26, "location": {"range": {"start": {"line": 82, "character": 0}, "end": {"line": 89, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "login_response", "kind": 26, "location": {"range": {"start": {"line": 91, "character": 0}, "end": {"line": 96, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "client", "kind": 26, "location": {"range": {"start": {"line": 98, "character": 0}, "end": {"line": 108, "character": 8}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "start_client", "kind": 12, "location": {"range": {"start": {"line": 109, "character": 0}, "end": {"line": 109, "character": 65}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "on", "kind": 12, "location": {"range": {"start": {"line": 110, "character": 0}, "end": {"line": 111, "character": 76}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "off", "kind": 12, "location": {"range": {"start": {"line": 112, "character": 0}, "end": {"line": 113, "character": 77}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "once", "kind": 12, "location": {"range": {"start": {"line": 114, "character": 0}, "end": {"line": 114, "character": 128}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "create_client", "kind": 12, "location": {"range": {"start": {"line": 116, "character": 0}, "end": {"line": 116, "character": 104}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "create_client_params", "kind": 12, "location": {"range": {"start": {"line": 117, "character": 0}, "end": {"line": 117, "character": 104}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "get_joined_rooms", "kind": 12, "location": {"range": {"start": {"line": 120, "character": 0}, "end": {"line": 126, "character": 3}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "subscribe", "kind": 12, "location": {"range": {"start": {"line": 128, "character": 0}, "end": {"line": 137, "character": 43}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "subscribe_once", "kind": 12, "location": {"range": {"start": {"line": 139, "character": 0}, "end": {"line": 147, "character": 43}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "new_client", "kind": 12, "location": {"range": {"start": {"line": 149, "character": 0}, "end": {"line": 150, "character": 44}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "new_client_params", "kind": 12, "location": {"range": {"start": {"line": 152, "character": 0}, "end": {"line": 157, "character": 32}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}, {"name": "login", "kind": 12, "location": {"range": {"start": {"line": 159, "character": 0}, "end": {"line": 163, "character": 44}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/Matrix.ast"}}]}
Read message 
{"jsonrpc":"2.0","id":16,"method":"textDocument/codeLens","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/matrix.ml"}}}
[server] Got a method textDocument/codeLens
[server] processing took 0.0121593475342ms
Sending response {"id": 16, "jsonrpc": "2.0", "result": [{"range": {"start": {"line": 0, "character": 0}, "end": {"line": 0, "character": 0}}, "command": {"title": "Dependencies: Tea_sub, Js, Tablecloth, Vdom, Pervasives", "command": ""}}, {"range": {"start": {"line": 129, "character": 11}, "end": {"line": 129, "character": 15}}, "command": {"title": "1 uses. types: {applicationCallbacks [enqueue]}", "command": ""}}, {"range": {"start": {"line": 140, "character": 11}, "end": {"line": 140, "character": 15}}, "command": {"title": "1 uses. types: {applicationCallbacks [enqueue]}", "command": ""}}]}
Running diagnostics for file:///Users/lucas/git/imago_front/src/matrix.ml
Sending notification {"jsonrpc": "2.0", "method": "textDocument/publishDiagnostics", "params": {"uri": "file:///Users/lucas/git/imago_front/src/matrix.ml", "diagnostics": []}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didClose","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/matrix.ml"}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml","languageId":"ocaml","version":1,"text":"[%%debugger.chrome]\nopen Tea.App\nopen Tea.Html\nopen Router\n\ntype msg =\n  | ChatMsg of Chat.msg\n  | Location_changed of Web.Location.location\n  | GoTo of route\n  [@@bs.deriving {accessors}]\n\ntype model =\n  {\n    chat : Chat.model;\n    route : Router.route;\n  }\n\nlet update_route model = function\n  | route when model.route = route -> (model, Tea.Cmd.none)\n  | ChatRoute chat_route ->\n      let chat, route = Chat.update_route model.chat chat_route in\n      {model with chat; route}, location_of_route route |> Tea.Navigation.newUrl\n  | Index as route ->\n      let chat = Chat.reset_route model.chat in\n      {model with chat; route}, location_of_route route |> Tea.Navigation.newUrl\n\nlet init () location =\n  let chat_model, chat_cmd = Chat.init in\n  let model =\n    {\n      chat = chat_model;\n      route = Index;\n    } in\n  let model, location_cmd =\n    route_of_location location |> update_route model\n  in\n  (model, Tea.Cmd.batch [Tea.Cmd.map chatMsg chat_cmd; location_cmd])\n\nlet update model = function\n  | Location_changed location ->\n      route_of_location location |> update_route model\n  | GoTo route -> update_route model route\n  | ChatMsg (GoTo route) -> update_route model route\n  | ChatMsg chat_msg ->\n      let chat, chat_cmd = Chat.update model.chat chat_msg in\n      {model with chat}, Tea.Cmd.map chatMsg chat_cmd\n\nlet content model =\n  match model.route with\n  | Index -> div [] []\n  | ChatRoute chat_route -> Chat.view model.chat chat_route |> Vdom.map chatMsg\n\nlet view model =\n  div\n    []\n    [ span\n        [ style \"text-weight\" \"bold\" ]\n        [ text (if model.chat.client##clientRunning then\n          model.chat.client##credentials##userId else \"disconnected\") ];\n      div [ id \"sidebar\" ] [ Chat.room_list_view model.chat |> Vdom.map chatMsg];\n      div [ id \"main\" ] [ content model ];\n      button [ onClick (GoTo Index)] [text \"Index\"]\n    ]\n\nlet subscriptions model =\n  Chat.subscriptions model.chat |> Tea.Sub.map chatMsg\n\nlet main =\n  Tea.Navigation.navigationProgram location_changed {\n    init;\n    update;\n    view;\n    subscriptions = subscriptions;\n    shutdown = (fun _ -> Tea.Cmd.none);\n  }\n"}}}
Read message 
{"jsonrpc":"2.0","id":17,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":0,"character":0},"end":{"line":0,"character":0}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0150203704834ms
Sending response {"id": 17, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":18,"method":"textDocument/documentSymbol","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
[server] Got a method textDocument/documentSymbol
[server] processing took 0.0150203704834ms
Sending response {"id": 18, "jsonrpc": "2.0", "result": [{"name": "msg", "kind": 10, "location": {"range": {"start": {"line": 5, "character": 0}, "end": {"line": 9, "character": 29}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "model", "kind": 11, "location": {"range": {"start": {"line": 11, "character": 0}, "end": {"line": 15, "character": 3}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "update_route", "kind": 12, "location": {"range": {"start": {"line": 17, "character": 0}, "end": {"line": 24, "character": 80}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "init", "kind": 12, "location": {"range": {"start": {"line": 26, "character": 0}, "end": {"line": 36, "character": 69}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "update", "kind": 12, "location": {"range": {"start": {"line": 38, "character": 0}, "end": {"line": 45, "character": 53}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "content", "kind": 12, "location": {"range": {"start": {"line": 47, "character": 0}, "end": {"line": 50, "character": 79}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "view", "kind": 12, "location": {"range": {"start": {"line": 52, "character": 0}, "end": {"line": 62, "character": 5}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "subscriptions", "kind": 12, "location": {"range": {"start": {"line": 64, "character": 0}, "end": {"line": 65, "character": 54}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}, {"name": "main", "kind": 12, "location": {"range": {"start": {"line": 67, "character": 0}, "end": {"line": 74, "character": 3}}, "uri": "file:///Users/lucas/git/imago_front/node_modules/.lsp/App.ast"}}]}
Read message 
{"jsonrpc":"2.0","id":19,"method":"textDocument/codeLens","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
[server] Got a method textDocument/codeLens
[server] processing took 0.0150203704834ms
Sending response {"id": 19, "jsonrpc": "2.0", "result": [{"range": {"start": {"line": 0, "character": 0}, "end": {"line": 0, "character": 0}}, "command": {"title": "Dependencies: Web, Chat, Js, Tea, Router, Vdom, Pervasives", "command": ""}}, {"range": {"start": {"line": 1, "character": 5}, "end": {"line": 1, "character": 12}}, "command": {"title": "Unused open", "command": ""}}, {"range": {"start": {"line": 3, "character": 5}, "end": {"line": 3, "character": 11}}, "command": {"title": "5 uses. values: {location_of_route, route_of_location} types: {route [Index, ChatRoute]}", "command": ""}}, {"range": {"start": {"line": 2, "character": 5}, "end": {"line": 2, "character": 13}}, "command": {"title": "7 uses. values: {button, div, id, onClick, span, style, text}", "command": ""}}]}
Read message 
{"jsonrpc":"2.0","id":20,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":11,"character":2},"end":{"line":11,"character":3}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0119209289551ms
Sending response {"id": 20, "jsonrpc": "2.0", "result": null}
Running diagnostics for file:///Users/lucas/git/imago_front/src/app.ml
Sending notification {"jsonrpc": "2.0", "method": "textDocument/publishDiagnostics", "params": {"uri": "file:///Users/lucas/git/imago_front/src/app.ml", "diagnostics": [{"range": {"start": {"line": 21, "character": 6}, "end": {"line": 21, "character": 30}}, "message": "Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.", "severity": 2}, {"range": {"start": {"line": 24, "character": 6}, "end": {"line": 24, "character": 30}}, "message": "Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.", "severity": 2}, {"range": {"start": {"line": 1, "character": 0}, "end": {"line": 1, "character": 12}}, "message": "Warning 33: unused open Tea.App.", "severity": 2}]}}
Read message 
{"jsonrpc":"2.0","id":21,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":11,"character":2},"end":{"line":11,"character":3}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0131130218506ms
Sending response {"id": 21, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":22,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":23,"character":26}}}
[server] Got a method textDocument/hover
[server] processing took 0.0128746032715ms
FINDING docs for module Impl(/Users/lucas/git/imago_front/lib/bs/src/chat.cmt, /Users/lucas/git/imago_front/src/chat.ml)
FINDING /Users/lucas/git/imago_front/lib/bs/src/chat.cmt src /Users/lucas/git/imago_front/src/chat.ml
Sending response {"id": 22, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 23, "character": 22}, "end": {"line": 23, "character": 33}}, "contents": {"kind": "markdown", "value": "```\nChat.model => Chat.model\n```\n\nfile:///Users/lucas/git/imago_front/src/chat.ml"}}}
Read message 
{"jsonrpc":"2.0","id":23,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":24,"character":56}}}
[server] Got a method textDocument/hover
[server] processing took 0.0131130218506ms
FINDING docs for module Impl(/Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml/pervasives.cmti, /Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml/pervasives.mli)
FINDING /Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml/pervasives.cmti src /Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml/pervasives.mli
Sending response {"id": 23, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 24, "character": 56}, "end": {"line": 24, "character": 58}}, "contents": {"kind": "markdown", "value": "```\n('a, 'a => 'b) => 'b\n```\n\nReverse-application operator: `x |> f |> g` is exactly equivalent to `g (f (x))`. Left-associative operator at precedence level 4/11.\n\nSince: 4.01\n\nfile:///Users/lucas/git/imago_front/node_modules/bs-platform/lib/ocaml/pervasives.mli"}}}
Read message 
{"jsonrpc":"2.0","id":24,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":58},"end":{"line":24,"character":58}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0131130218506ms
Sending response {"id": 24, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":25,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":57},"end":{"line":24,"character":57}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0498294830322ms
Sending response {"id": 25, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":26,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":24,"character":14}}}
[server] Got a method textDocument/hover
[server] processing took 0.0510215759277ms
Sending response {"id": 26, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":27,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"context":{"diagnostics":[{"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"message":"Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.","severity":2}]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0300407409668ms
Sending response {"id": 27, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":28,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"context":{"diagnostics":[{"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"message":"Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.","severity":2}]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0181198120117ms
Sending response {"id": 28, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":29,"method":"textDocument/documentHighlight","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":24,"character":15}}}
[server] Got a method textDocument/documentHighlight
[server] processing took 0.0100135803223ms
Sending response {"id": 29, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":30,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":15},"end":{"line":24,"character":15}},"context":{"diagnostics":[{"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"message":"Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.","severity":2}]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0190734863281ms
Sending response {"id": 30, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":31,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":23,"character":17}}}
[server] Got a method textDocument/hover
[server] processing took 0.0181198120117ms
FINDING docs for module Impl(/Users/lucas/git/imago_front/lib/bs/src/chat.cmt, /Users/lucas/git/imago_front/src/chat.ml)
FINDING /Users/lucas/git/imago_front/lib/bs/src/chat.cmt src /Users/lucas/git/imago_front/src/chat.ml
Sending response {"id": 31, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 23, "character": 17}, "end": {"line": 23, "character": 21}}, "contents": {"kind": "markdown", "value": "```\nmodule Chat = {\n  let sync: string => msg;\n  let sendMessage: string => msg;\n  let saveMessage: string => msg;\n  let gotMessage: Matrix.event => msg;\n  let restoredSession: Tea.Result.t(\n  Matrix.client,\n  string\n) => msg;\n  let listInfo: Tea.Result.t(list(unit), string) => msg;\n  let info: Tea.Result.t(string, string) => msg;\n  let goTo: Router.route => msg;\n  let loggedIn: Tea.Result.t(\n  Matrix.login_response,\n  string\n) => msg;\n  type msg = \n  | LoggedIn(Tea.Result.t(Matrix.login_response, string))\n  | GoTo(Router.route)\n  | Info(Tea.Result.t(string, string))\n  | ListInfo(Tea.Result.t(list(unit), string))\n  | RestoredSession(Tea.Result.t(Matrix.client, string))\n  | GotMessage(Matrix.event)\n  | SaveMessage(string)\n  | SendMessage(string)\n  | Sync(string)\n\n  type model = {\n  client: Matrix.client,\n  new_messages: Js.Dict.t(string),\n  current_room: option(Matrix.room)\n}\n  let promiseToTask: Js.Promise.t('a) => Tea_task.t(\n  'a,\n  string\n);\n  let login_cmd: Js.t(\n  < login : ([ `Arity_2 of string * string Js.Dict.t ],\n           Matrix.login_response Js.Promise.t)\n          Js.Internal.meth;\n  .. >\n) => Tea_cmd.t(msg);\n  let restore_cmd: Tea_cmd.t(msg);\n  let save_cmd: Js.t(\n  < credentials : < userId : string; .. > Js.t;\n  getAccessToken : ([ `Arity_0 ], string) Js.Internal.meth; .. >\n) => Tea_cmd.t(msg);\n  let send_message_cmd: (\n  Js.t(\n    < sendMessage : ([ `Arity_2 of 'a * Matrix.event_content ],\n                 string Js.Promise.t)\n                Js.Internal.meth;\n  .. >\n  ),\n  'a,\n  string\n) => Tea_cmd.t(msg);\n  let init: (model, Tea_cmd.t(msg));\n  let update_route: (model, Router.chat_route) => (\n  model,\n  Router.route\n);\n  let reset_route: model => model;\n  let update: (model, msg) => (model, Tea.Cmd.t(msg));\n  let equal_to_option: ('a, option('a)) => bool;\n  let room_list_view: model => Vdom.t(msg);\n  let on_ctrl_enter: (\n  ~key: option(string),\n  string => 'a\n) => Vdom.property('a);\n  let string_of_option: option(string) => string;\n  let get_messages: Js.t(\n  < getLiveTimeline : ([ `Arity_0 ],\n                     < getEvents : ([ `Arity_0 ], 'b array) Js.Internal.meth;\n                       .. >\n                     Js.t)\n                    Js.Internal.meth;\n  .. >\n) => array('a);\n  let message_view: Js.t(\n  < event : < content : < body : string; .. > Js.t; .. > Js.t;\n  sender : < rawDisplayName : string; .. > Js.t; .. >\n) => Vdom.t('a);\n  let room_view: (\n  Js.t(\n    < getLiveTimeline : ([ `Arity_0 ],\n                     < getEvents : ([ `Arity_0 ],\n                                    < event : < content : < body : string;\n                                                            .. >\n                                                          Js.t;\n                                                .. >\n                                              Js.t;\n                                      sender : < rawDisplayName : string;\n                                                 .. >\n                                               Js.t;\n                                      .. >\n                                    Js.t array)\n                                   Js.Internal.meth;\n                       .. >\n                     Js.t)\n                    Js.Internal.meth;\n  roomId : string; .. >\n  ),\n  string\n) => Vdom.t(msg);\n  let view: (model, Router.chat_route) => Vdom.t(\n  msg\n);\n  let subscriptions: model => Tea.Sub.t(msg);\n}\n```"}}}
Read message 
{"jsonrpc":"2.0","id":32,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":23,"character":16}}}
[server] Got a method textDocument/hover
[server] processing took 0.0109672546387ms
Sending response {"id": 32, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":33,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":24,"character":14}}}
[server] Got a method textDocument/hover
[server] processing took 0.0119209289551ms
Sending response {"id": 33, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":34,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"context":{"diagnostics":[{"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"message":"Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.","severity":2}]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0350475311279ms
Sending response {"id": 34, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":35,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"context":{"diagnostics":[{"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"message":"Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.","severity":2}]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0131130218506ms
Sending response {"id": 35, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":36,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":24,"character":20}}}
[server] Got a method textDocument/hover
[server] processing took 0.0109672546387ms
FINDING docs for module Impl(/Users/lucas/git/imago_front/lib/bs/src/chat.cmt, /Users/lucas/git/imago_front/src/chat.ml)
FINDING /Users/lucas/git/imago_front/lib/bs/src/chat.cmt src /Users/lucas/git/imago_front/src/chat.ml
Sending response {"id": 36, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 24, "character": 18}, "end": {"line": 24, "character": 22}}, "contents": {"kind": "markdown", "value": "```\nChat.model\n```\n\n```\ntype model = {\n  client: Matrix.client,\n  new_messages: Js.Dict.t(string),\n  current_room: option(Matrix.room)\n}\n```\n\nfile:///Users/lucas/git/imago_front/src/app.ml"}}}
Read message 
{"jsonrpc":"2.0","id":37,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"context":{"diagnostics":[{"range":{"start":{"line":24,"character":6},"end":{"line":24,"character":30}},"message":"Warning 23: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.","severity":2}]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0128746032715ms
Sending response {"id": 37, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":38,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":27,"character":31}}}
[server] Got a method textDocument/hover
[server] processing took 0.014066696167ms
FINDING docs for module Impl(/Users/lucas/git/imago_front/lib/bs/src/chat.cmt, /Users/lucas/git/imago_front/src/chat.ml)
FINDING /Users/lucas/git/imago_front/lib/bs/src/chat.cmt src /Users/lucas/git/imago_front/src/chat.ml
Sending response {"id": 38, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 27, "character": 29}, "end": {"line": 27, "character": 33}}, "contents": {"kind": "markdown", "value": "```\nmodule Chat = {\n  let sync: string => msg;\n  let sendMessage: string => msg;\n  let saveMessage: string => msg;\n  let gotMessage: Matrix.event => msg;\n  let restoredSession: Tea.Result.t(\n  Matrix.client,\n  string\n) => msg;\n  let listInfo: Tea.Result.t(list(unit), string) => msg;\n  let info: Tea.Result.t(string, string) => msg;\n  let goTo: Router.route => msg;\n  let loggedIn: Tea.Result.t(\n  Matrix.login_response,\n  string\n) => msg;\n  type msg = \n  | LoggedIn(Tea.Result.t(Matrix.login_response, string))\n  | GoTo(Router.route)\n  | Info(Tea.Result.t(string, string))\n  | ListInfo(Tea.Result.t(list(unit), string))\n  | RestoredSession(Tea.Result.t(Matrix.client, string))\n  | GotMessage(Matrix.event)\n  | SaveMessage(string)\n  | SendMessage(string)\n  | Sync(string)\n\n  type model = {\n  client: Matrix.client,\n  new_messages: Js.Dict.t(string),\n  current_room: option(Matrix.room)\n}\n  let promiseToTask: Js.Promise.t('a) => Tea_task.t(\n  'a,\n  string\n);\n  let login_cmd: Js.t(\n  < login : ([ `Arity_2 of string * string Js.Dict.t ],\n           Matrix.login_response Js.Promise.t)\n          Js.Internal.meth;\n  .. >\n) => Tea_cmd.t(msg);\n  let restore_cmd: Tea_cmd.t(msg);\n  let save_cmd: Js.t(\n  < credentials : < userId : string; .. > Js.t;\n  getAccessToken : ([ `Arity_0 ], string) Js.Internal.meth; .. >\n) => Tea_cmd.t(msg);\n  let send_message_cmd: (\n  Js.t(\n    < sendMessage : ([ `Arity_2 of 'a * Matrix.event_content ],\n                 string Js.Promise.t)\n                Js.Internal.meth;\n  .. >\n  ),\n  'a,\n  string\n) => Tea_cmd.t(msg);\n  let init: (model, Tea_cmd.t(msg));\n  let update_route: (model, Router.chat_route) => (\n  model,\n  Router.route\n);\n  let reset_route: model => model;\n  let update: (model, msg) => (model, Tea.Cmd.t(msg));\n  let equal_to_option: ('a, option('a)) => bool;\n  let room_list_view: model => Vdom.t(msg);\n  let on_ctrl_enter: (\n  ~key: option(string),\n  string => 'a\n) => Vdom.property('a);\n  let string_of_option: option(string) => string;\n  let get_messages: Js.t(\n  < getLiveTimeline : ([ `Arity_0 ],\n                     < getEvents : ([ `Arity_0 ], 'b array) Js.Internal.meth;\n                       .. >\n                     Js.t)\n                    Js.Internal.meth;\n  .. >\n) => array('a);\n  let message_view: Js.t(\n  < event : < content : < body : string; .. > Js.t; .. > Js.t;\n  sender : < rawDisplayName : string; .. > Js.t; .. >\n) => Vdom.t('a);\n  let room_view: (\n  Js.t(\n    < getLiveTimeline : ([ `Arity_0 ],\n                     < getEvents : ([ `Arity_0 ],\n                                    < event : < content : < body : string;\n                                                            .. >\n                                                          Js.t;\n                                                .. >\n                                              Js.t;\n                                      sender : < rawDisplayName : string;\n                                                 .. >\n                                               Js.t;\n                                      .. >\n                                    Js.t array)\n                                   Js.Internal.meth;\n                       .. >\n                     Js.t)\n                    Js.Internal.meth;\n  roomId : string; .. >\n  ),\n  string\n) => Vdom.t(msg);\n  let view: (model, Router.chat_route) => Vdom.t(\n  msg\n);\n  let subscriptions: model => Tea.Sub.t(msg);\n}\n```"}}}
Read message 
{"jsonrpc":"2.0","id":39,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":25,"character":0}}}
[server] Got a method textDocument/hover
[server] processing took 0.0128746032715ms
Sending response {"id": 39, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","id":40,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":24,"character":80}}}
[server] Got a method textDocument/hover
[server] processing took 0.0128746032715ms
FINDING docs for module Impl(/Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea.cmt, /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea.ml)
FINDING /Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea.cmt src /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea.ml
FINDING docs for module Impl(/Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea_navigation.cmt, /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_navigation.ml)
FINDING /Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea_navigation.cmt src /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_navigation.ml
Sending response {"id": 40, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 24, "character": 74}, "end": {"line": 24, "character": 80}}, "contents": {"kind": "markdown", "value": "```\nstring => Tea_cmd.t('a)\n```\n\nfile:///Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_navigation.ml"}}}
Read message 
{"jsonrpc":"2.0","id":41,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"},"position":{"line":24,"character":79}}}
[server] Got a method textDocument/hover
[server] processing took 0.0128746032715ms
FINDING docs for module Impl(/Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea.cmt, /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea.ml)
FINDING /Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea.cmt src /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea.ml
FINDING docs for module Impl(/Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea_navigation.cmt, /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_navigation.ml)
FINDING /Users/lucas/git/imago_front/node_modules/bucklescript-tea/lib/bs/src-ocaml/tea_navigation.cmt src /Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_navigation.ml
Sending response {"id": 41, "jsonrpc": "2.0", "result": {"range": {"start": {"line": 24, "character": 74}, "end": {"line": 24, "character": 80}}, "contents": {"kind": "markdown", "value": "```\nstring => Tea_cmd.t('a)\n```\n\nfile:///Users/lucas/git/imago_front/node_modules/bucklescript-tea/src-ocaml/tea_navigation.ml"}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didClose","params":{"textDocument":{"uri":"file:///Users/lucas/git/imago_front/src/app.ml"}}}
Read message 
{"jsonrpc":"2.0","id":42,"method":"shutdown","params":null}
Sending response {"id": 42, "jsonrpc": "2.0", "result": null}
Read message 
{"jsonrpc":"2.0","method":"exit","params":null}
Got exit! Terminating loop
Finished
